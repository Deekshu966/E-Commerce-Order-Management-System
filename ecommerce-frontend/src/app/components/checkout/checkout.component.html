<div class="checkout-container">
  <div class="container">
    <div class="page-header">
      <h1>Checkout</h1>
      <div class="checkout-steps">
        <span class="step active">1. Shipping</span>
        <span class="step">2. Payment</span>
        <span class="step">3. Confirmation</span>
      </div>
    </div>

    <div class="checkout-content">
      <!-- Shipping Form -->
      <div class="checkout-form">
        <div class="form-section">
          <h2>Shipping Information</h2>
          
          <div class="alert alert-danger" *ngIf="errorMessage">
            {{ errorMessage }}
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label">First Name *</label>
              <input 
                type="text" 
                class="form-control"
                [(ngModel)]="shippingAddress.firstName"
                placeholder="First name"
              />
            </div>
            <div class="form-group">
              <label class="form-label">Last Name *</label>
              <input 
                type="text" 
                class="form-control"
                [(ngModel)]="shippingAddress.lastName"
                placeholder="Last name"
              />
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Email *</label>
            <input 
              type="email" 
              class="form-control"
              [(ngModel)]="shippingAddress.email"
              placeholder="Email address"
            />
          </div>

          <div class="form-group">
            <label class="form-label">Street Address *</label>
            <input 
              type="text" 
              class="form-control"
              [(ngModel)]="shippingAddress.address"
              placeholder="Street address"
            />
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label">City *</label>
              <input 
                type="text" 
                class="form-control"
                [(ngModel)]="shippingAddress.city"
                placeholder="City"
              />
            </div>
            <div class="form-group">
              <label class="form-label">State *</label>
              <input 
                type="text" 
                class="form-control"
                [(ngModel)]="shippingAddress.state"
                placeholder="State"
              />
            </div>
            <div class="form-group">
              <label class="form-label">ZIP Code *</label>
              <input 
                type="text" 
                class="form-control"
                [(ngModel)]="shippingAddress.zipCode"
                placeholder="ZIP Code"
              />
            </div>
          </div>
        </div>
      </div>

      <!-- Order Summary -->
      <div class="order-summary">
        <div class="summary-card">
          <h3>Order Summary</h3>
          
          <div class="order-items">
            <div class="order-item" *ngFor="let item of cartItems">
              <img [src]="item.product.image" [alt]="item.product.name" />
              <div class="item-details">
                <span class="item-name">{{ item.product.name }}</span>
                <span class="item-qty">Qty: {{ item.quantity }}</span>
              </div>
              <span class="item-price">${{ (item.product.price * item.quantity).toFixed(2) }}</span>
            </div>
          </div>

          <div class="summary-divider"></div>

          <div class="summary-row">
            <span>Subtotal</span>
            <span>${{ getSubtotal().toFixed(2) }}</span>
          </div>
          
          <div class="summary-row">
            <span>Shipping</span>
            <span>Free</span>
          </div>
          
          <div class="summary-row">
            <span>Tax (8%)</span>
            <span>${{ getTax().toFixed(2) }}</span>
          </div>
          
          <div class="summary-divider"></div>
          
          <div class="summary-row total">
            <span>Total</span>
            <span>${{ getTotal().toFixed(2) }}</span>
          </div>

          <button 
            class="btn btn-primary btn-block"
            (click)="proceedToPayment()"
          >
            Continue to Payment
          </button>
          
          <a routerLink="/cart" class="back-link">
            ‚Üê Back to Cart
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
